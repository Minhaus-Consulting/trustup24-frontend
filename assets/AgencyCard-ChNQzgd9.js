import{c as x,j as s,f as n,at as m,h as d,aZ as h,d as p,aa as u,a as f,g as v,N as g,O as j,a1 as N,B as o,H as b,P as w,V as C,Y as S,a_ as R}from"./index-wr2dCn2t.js";import{T}from"./TrustMeter-CF9Jd7Qr.js";import{E as k}from"./external-link-CejWxruk.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=x("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);function F({agency:e,variant:i="compact"}){const t=(()=>{const r=[];return e.averageRating&&parseFloat(e.averageRating)>=4.8&&r.push({icon:s.jsx(m,{className:"w-3 h-3"}),label:"Top bewertet",color:"bg-yellow-100 text-yellow-800",priority:1}),e.averageResponseTimeHours&&parseFloat(e.averageResponseTimeHours)<=12&&r.push({icon:s.jsx(d,{className:"w-3 h-3"}),label:"Schnelle Antwort",color:"bg-blue-100 text-blue-800",priority:2}),e.priceTransparency==="very_high"&&r.push({icon:s.jsx(B,{className:"w-3 h-3"}),label:"Transparente Preise",color:"bg-green-100 text-green-800",priority:3}),e.officialPartners&&e.officialPartners.length>0&&r.push({icon:s.jsx(h,{className:"w-3 h-3"}),label:"Offizieller Partner",color:"bg-purple-100 text-purple-800",priority:4}),e.reliabilityScore&&parseFloat(e.reliabilityScore)>=4.7&&r.push({icon:s.jsx(p,{className:"w-3 h-3"}),label:"Sehr zuverlässig",color:"bg-emerald-100 text-emerald-800",priority:5}),r.sort((l,a)=>l.priority-a.priority).slice(0,i==="compact"?3:r.length)})();return t.length===0?null:s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((r,l)=>s.jsxs(n,{variant:"secondary",className:`${r.color} flex items-center gap-1 text-xs`,children:[r.icon,r.label]},l))})}function H({agency:e}){const[,i]=u(),{toggleFavorite:c,isFavorite:t}=f(),r=()=>{i(`/agencies/${e.id}`)},l=a=>{a.stopPropagation(),c({id:e.id,name:e.agencyName,trustScore:e.trustScore||0,specialization:e.servicesOffered||[]})};return s.jsxs(v,{className:"agency-card card-mobile transition-all duration-300 hover:shadow-xl hover:-translate-y-1 relative overflow-hidden group cursor-pointer",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),s.jsx(g,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(j,{className:"text-xl font-bold mb-2",children:e.agencyName}),e.description&&s.jsx(N,{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(o,{variant:"ghost",onClick:l,className:`touch-target h-10 w-10 p-0 ${t(e.id)?"text-red-500":"text-gray-400"} hover:text-red-500 transition-colors`,children:[s.jsx(b,{className:`w-5 h-5 ${t(e.id)?"fill-current":""}`}),s.jsx("span",{className:"sr-only",children:t(e.id)?"Aus Favoriten entfernen":"Zu Favoriten hinzufügen"})]}),e.trustScore&&s.jsx(T,{score:e.trustScore,size:"sm",animated:!0,interactive:!0})]})]})}),s.jsxs(w,{className:"space-y-4",children:[s.jsx(F,{agency:e,variant:"compact"}),e.verifiedStatus&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(C,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Verifizierte Agentur"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[e.averageRating&&parseFloat(e.averageRating)>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(p,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-medium",children:e.averageRating})]}),e.totalReviews!=null&&e.totalReviews>0&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(S,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.totalReviews," Bewertungen"]})]})]}),e.averageResponseTimeHours&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(d,{className:"w-4 h-4"}),s.jsxs("span",{children:["Ø ",e.averageResponseTimeHours,"h Antwortzeit"]})]}),e.servicesOffered&&e.servicesOffered.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.servicesOffered.slice(0,3).map(a=>s.jsx(n,{variant:"secondary",className:"text-xs",children:z(a)},a)),e.servicesOffered.length>3&&s.jsxs(n,{variant:"outline",className:"text-xs",children:["+",e.servicesOffered.length-3," weitere"]})]}),e.supportedCompanyTypes&&e.supportedCompanyTypes.length>0&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Unterstützte Firmentypen:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.supportedCompanyTypes.map(a=>s.jsx(n,{variant:"outline",className:"text-xs",children:O(a)},a))})]})]}),s.jsxs(R,{className:"flex gap-3 p-4",children:[s.jsx(o,{className:"flex-1 touch-target h-12",onClick:r,children:"Details ansehen"}),s.jsxs(o,{variant:"outline",className:"touch-target h-12 w-12 p-0",onClick:()=>window.open(e.googleReviewsUrl||"#","_blank"),disabled:!e.googleReviewsUrl,children:[s.jsx(k,{className:"w-5 h-5"}),s.jsx("span",{className:"sr-only",children:"Website besuchen"})]})]})]})}function z(e){return{visa:"Visa Services",banking:"Banking",legal:"Rechtsberatung",accounting:"Buchhaltung",office:"Büro-Services",freezone:"Freezone",mainland:"Mainland",offshore:"Offshore",startup:"Startup Support",tax:"Steuerberatung",compliance:"Compliance",trusteeship:"Treuhand",advisory:"Beratung",international:"International",relocation:"Relocation Service",pro_services:"PRO Services",insurance:"Versicherungen"}[e]||e}function O(e){return{freezone:"Freezone",mainland:"Mainland",offshore:"Offshore"}[e]||e}export{H as A};
