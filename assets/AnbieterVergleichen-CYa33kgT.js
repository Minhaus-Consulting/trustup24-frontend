import{c as X,aa as be,r as m,b as je,j as e,S as Ne,d as ie,a6 as we,f as n,B as d,e as K,a9 as o,g as Q,N as ye,O as Se,P as W,I as ke,V as Ce,H as ze}from"./index-48Pj72Q3.js";import{S as Fe,a as Ae,b as Be,c as _e,d as p}from"./select-CZxI7kd3.js";import{C as B}from"./checkbox-Dj13i6OQ.js";import{L as Te,S as w}from"./LoadingSpinner-BHyMGtwr.js";import{P as Pe}from"./plus-B7150RY6.js";import"./chevron-up-D_xeGbNE.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=X("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=X("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=X("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Oe={yes_immediate:"Ja, so schnell wie möglich",yes_planned:"Ja, ist geplant",maybe:"Vielleicht/Noch unsicher",no:"Nein, nur geschäftlich",full_service:"Full-Service Betreuung",guided:"Begleitete Umsetzung",consulting:"Beratung & Selbstumsetzung",lowest_price:"Günstigster Preis",price_performance:"Preis-Leistung",premium_quality:"Premium Qualität",company_formation:"Firmengründung",tax_consulting:"Steuerberatung",accounting:"Buchhaltung",legal_services:"Rechtsberatung",visa_services:"Visa Services",relocation:"Relocation Services"},I=h=>Oe[h]||h;function qe(){var ne,re;const[,h]=be(),u=new URLSearchParams(window.location.search),i=u.get("goal")||"",Y=u.get("location")||"",f=((ne=u.get("services"))==null?void 0:ne.split(",").filter(Boolean))||[],E=u.get("relocation")||"",$=u.get("budget")||"",M=u.get("languages")||"",[_,T]=m.useState(""),[y,P]=m.useState([]),[S,k]=m.useState(f),[C,D]=m.useState([]),[z,v]=m.useState([]),[ee,me]=m.useState("trust_score"),[b,R]=m.useState("all"),[L,H]=m.useState(!1),[c,se]=m.useState([]),[de,oe]=m.useState(()=>{const s=localStorage.getItem("agency-favorites");return s?JSON.parse(s):[]}),q=u.get("collapsed")==="true",[j,J]=m.useState(!q),Z=[{label:"Alle",value:"all",min:0},{label:"3+ Sterne",value:"3plus",min:3},{label:"4+ Sterne",value:"4plus",min:4},{label:"4,5+ Sterne",value:"4.5plus",min:4.5}],O=[{value:"legal_services",label:"Rechtsberatung"},{value:"accounting",label:"Buchhaltung"},{value:"relocation_services",label:"Umzugsservice"},{value:"company_formation",label:"Firmengründung"},{value:"tax_consulting",label:"Steuerberatung"},{value:"consulting",label:"Unternehmensberatung"}],U=[{value:"pro_services",label:"PRO Services"},{value:"visa_services",label:"Visa Services"},{value:"bank_account",label:"Bankkonto-Eröffnung"},{value:"insurance",label:"Versicherungen"},{value:"translation",label:"Übersetzungsservice"},{value:"office_rental",label:"Bürovermietung"}],ae=[{value:"dubai",label:"Dubai"},{value:"sharjah",label:"Sharjah"},{value:"abu_dhabi",label:"Abu Dhabi"},{value:"ajman",label:"Ajman"},{value:"ras_al_khaimah",label:"Ras Al Khaimah"},{value:"fujairah",label:"Fujairah"},{value:"umm_al_quwain",label:"Umm Al Quwain"}],te=[{value:"mainland",label:"Mainland"},{value:"freezone",label:"Freezone"},{value:"offshore",label:"Offshore"},{value:"branch",label:"Branch Office"},{value:"rep_office",label:"Representative Office"}];m.useEffect(()=>{f.length>0&&k(f),i==="company-formation"&&(P(["company_formation"]),Y==="freezone"?v(["freezone"]):Y==="mainland"&&v(["mainland"])),q&&J(!1)},[q]);const{data:F=[],isLoading:xe}=je({queryKey:["/api/agencies"]}),he=s=>{P(a=>a.includes(s)?a.filter(t=>t!==s):[...a,s])},ue=s=>{k(a=>a.includes(s)?a.filter(t=>t!==s):[...a,s])},ge=s=>{D(a=>a.includes(s)?a.filter(t=>t!==s):[...a,s])},fe=s=>{v(a=>a.includes(s)?a.filter(t=>t!==s):[...a,s])},pe=s=>{se(a=>a.includes(s)?a.filter(t=>t!==s):a.length<2?[...a,s]:a)};m.useEffect(()=>{if(c.length===2){const[s,a]=c;h(`/anbieter-vergleich/${s}-vs-${a}`)}},[c,h]);const ve=s=>{oe(a=>{const t=a.includes(s)?a.filter(l=>l!==s):[...a,s];return localStorage.setItem("agency-favorites",JSON.stringify(t)),t})},le=F.filter(s=>{const a=!_||s.agencyName.toLowerCase().includes(_.toLowerCase())||(s.description||"").toLowerCase().includes(_.toLowerCase()),t=y.length===0||y.some(g=>{var x;return(x=s.servicesOffered)==null?void 0:x.includes(g)}),l=S.length===0||S.some(g=>{var x;return(x=s.servicesOffered)==null?void 0:x.includes(g)}),r=C.length===0||C.some(g=>{var x;return(x=s.servicesOffered)==null?void 0:x.includes(g)}),V=z.length===0||z.some(g=>{var x;return(x=s.supportedCompanyTypes)==null?void 0:x.includes(g)}),N=Z.find(g=>g.value===b),A=b==="all"||s.averageRating&&Number(s.averageRating)>=((N==null?void 0:N.min)||0);return a&&t&&l&&r&&V&&A&&(!L||!0)}),G=[...le].sort((s,a)=>{switch(ee){case"trust_score":return(a.trustScore||0)-(s.trustScore||0);case"rating":return Number(a.averageRating||0)-Number(s.averageRating||0);case"review_count":return(a.totalReviews||0)-(s.totalReviews||0);case"name":return s.agencyName.localeCompare(a.agencyName);case"newest":return a.agencyName.localeCompare(s.agencyName);default:return 0}});return xe?e.jsx(Te,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("section",{className:"relative bg-white pt-24 pb-16 border-b border-gray-100",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-blue-50 to-transparent rounded-full opacity-30 -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-gradient-to-tr from-gray-50 to-transparent rounded-full opacity-40 translate-y-32 -translate-x-32"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"flex justify-center items-center gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Verifiziert"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ie,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Bewertet"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(we,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Geprüft"})]})]}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-light text-gray-900 mb-6 tracking-tight",children:"Anbieter vergleichen"}),e.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8 font-light leading-relaxed",children:["Finde den perfekten Partner für dein Dubai-Projekt.",e.jsx("br",{className:"hidden sm:block"}),"Transparent bewertet und unabhängig verglichen."]}),(i||f.length>0||E||$||M)&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-900 p-6 rounded-2xl mb-8 max-w-4xl mx-auto",children:[e.jsx("p",{className:"text-lg font-medium mb-4",children:"Ergebnisse basierend auf deinen Angaben"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Aktive Filter:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[i&&e.jsxs(n,{variant:"secondary",className:"bg-white border-blue-200 text-blue-800",children:["Ziel: ",i==="company-formation"?"Firmengründung":i==="relocation"?"Auswanderung":i==="expansion"?"Expansion":i]}),f.map(s=>e.jsx(n,{variant:"secondary",className:"bg-white border-blue-200 text-blue-800",children:I(s)},s)),E&&e.jsxs(n,{variant:"secondary",className:"bg-white border-blue-200 text-blue-800",children:["Umzug: ",I(E)]}),$&&e.jsxs(n,{variant:"secondary",className:"bg-white border-blue-200 text-blue-800",children:["Budget: ",I($)]}),M&&e.jsxs(n,{variant:"secondary",className:"bg-white border-blue-200 text-blue-800",children:["Sprachen: ",M.split(",").map(s=>s==="de"?"Deutsch":s==="en"?"English":s==="ar"?"العربية":s).join(", ")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Ergebnisse:"}),e.jsxs("p",{className:"text-2xl font-bold",children:[le.length," passende Anbieter"]}),e.jsx(d,{variant:"outline",size:"sm",className:"mt-3 bg-white border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>J(!j),children:j?"Filter ausblenden":"Filter anzeigen"})]})]})]}),e.jsxs(d,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white h-14 px-10 text-base font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>h("/anbieter-finden"),children:[e.jsx(K,{className:"w-5 h-5 mr-3"}),"Smart Matching starten"]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm mt-12 text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Alle Anbieter verifiziert"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Externe Bewertungen"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),e.jsx("span",{children:"Unabhängiger Vergleich"})]})]})]})]}),(i||f.length>0||u.get("budget")||u.get("languages")||y.length>0||S.length>0||C.length>0||z.length>0||b!=="all"||L)&&e.jsx("section",{className:"sticky top-16 z-40 bg-white border-b shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Aktive Filter:"}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>{T(""),P([]),k([]),D([]),v([]),R("all"),H(!1)},children:"Alle Filter zurücksetzen"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[i&&e.jsxs(n,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:["Ziel: ",i==="company-formation"?"Firmengründung":i==="relocation"?"Auswanderung":i==="expansion"?"Expansion":i]}),f.map(s=>{var a,t;return e.jsx(n,{variant:"secondary",className:"bg-green-100 text-green-800",children:((a=U.find(l=>l.value===s))==null?void 0:a.label)||((t=O.find(l=>l.value===s))==null?void 0:t.label)||s},s)}),y.map(s=>{var a;return e.jsx(n,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:(a=O.find(t=>t.value===s))==null?void 0:a.label},s)}),S.filter(s=>!f.includes(s)).map(s=>{var a;return e.jsx(n,{variant:"secondary",className:"bg-green-100 text-green-800",children:(a=U.find(t=>t.value===s))==null?void 0:a.label},s)}),C.map(s=>{var a;return e.jsx(n,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:(a=ae.find(t=>t.value===s))==null?void 0:a.label},s)}),z.map(s=>{var a;return e.jsx(n,{variant:"secondary",className:"bg-indigo-100 text-indigo-800",children:(a=te.find(t=>t.value===s))==null?void 0:a.label},s)}),b!=="all"&&e.jsx(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:(re=Z.find(s=>s.value===b))==null?void 0:re.label}),L&&e.jsx(n,{variant:"secondary",className:"bg-cyan-100 text-cyan-800",children:"Nur neueste Anbieter"})]})]})}),e.jsx("section",{className:"sticky top-16 z-30 bg-white border-b shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(d,{variant:j?"default":"outline",size:"sm",onClick:()=>J(!j),className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),j?"Filter ausblenden":"Filter einblenden"]}),e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[e.jsx("span",{className:"text-lg font-bold text-blue-600",children:G.length})," gefunden"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"text-sm font-medium text-gray-700 hidden sm:block",children:"Sortieren nach:"}),e.jsxs(Fe,{value:ee,onValueChange:me,children:[e.jsxs(Ae,{className:"w-48 h-9 border-2 border-gray-300",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),e.jsx(Be,{})]}),e.jsxs(_e,{children:[e.jsx(p,{value:"trust_score",children:"Trust-Score (höchster zuerst)"}),e.jsx(p,{value:"rating",children:"Bewertung (beste zuerst)"}),e.jsx(p,{value:"review_count",children:"Anzahl Bewertungen"}),e.jsx(p,{value:"name",children:"Name (A-Z)"}),e.jsx(p,{value:"newest",children:"Neueste Anbieter"}),e.jsx(p,{value:"price_low",children:"Preis (niedrig → hoch)"}),e.jsx(p,{value:"popular",children:"Beliebtheit"})]})]})]})]})})}),e.jsx("section",{className:"py-4 sm:py-8",children:e.jsx("div",{className:"container mx-auto px-2 sm:px-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-8",children:[e.jsx("div",{className:`w-full lg:w-80 transition-all duration-300 ${j?"block":"hidden"}`,children:e.jsxs(Q,{className:"lg:sticky lg:top-20 max-h-[calc(100vh-6rem)] overflow-hidden",children:[e.jsx(ye,{className:"p-4 bg-gray-50 border-b",children:e.jsxs(Se,{className:"text-lg flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5"}),"Filter Ergebnisse"]})}),e.jsx(W,{className:"p-0 overflow-y-auto max-h-[calc(100vh-12rem)]",children:e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-xs sm:text-sm font-medium mb-2 sm:mb-3 block",children:"Bewertung"}),e.jsx("div",{className:"grid grid-cols-2 gap-1 sm:gap-2",children:Z.map(s=>e.jsx(d,{variant:b===s.value?"default":"outline",size:"sm",onClick:()=>R(s.value),className:"text-[10px] sm:text-xs h-7 sm:h-8 px-2",children:s.label},s.value))})]}),e.jsx(w,{}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"search",className:"text-sm font-medium",children:"Suche"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(ke,{id:"search",placeholder:"Anbieter oder Stichwort...",value:_,onChange:s=>T(s.target.value),className:"pl-10"})]})]}),e.jsx(w,{}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"newest",checked:L,onCheckedChange:s=>H(s===!0)}),e.jsx(o,{htmlFor:"newest",className:"text-sm cursor-pointer font-medium",children:"Nur neueste Anbieter (letzte 30 Tage)"})]})}),e.jsx(w,{}),e.jsxs("div",{children:[e.jsx(o,{className:"text-xs sm:text-sm font-medium",children:"Branche"}),e.jsx("div",{className:"space-y-1 sm:space-y-2 mt-1 sm:mt-2 max-h-32 sm:max-h-48 overflow-y-auto",children:O.map(s=>{const a=F.filter(t=>{var l;return(l=t.servicesOffered)==null?void 0:l.includes(s.value)}).length;return e.jsxs("div",{className:"flex items-center justify-between py-0.5 sm:py-0",children:[e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(B,{id:s.value,checked:y.includes(s.value),onCheckedChange:()=>he(s.value),className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx(o,{htmlFor:s.value,className:"text-xs sm:text-sm cursor-pointer",children:s.label})]}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500",children:["(",a,")"]})]},s.value)})})]}),e.jsx(w,{}),e.jsxs("div",{children:[e.jsx(o,{className:"text-xs sm:text-sm font-medium",children:"Zusatz-Services"}),e.jsx("div",{className:"space-y-1 sm:space-y-2 mt-1 sm:mt-2 max-h-32 sm:max-h-48 overflow-y-auto",children:U.map(s=>{const a=F.filter(t=>{var l;return(l=t.servicesOffered)==null?void 0:l.includes(s.value)}).length;return e.jsxs("div",{className:"flex items-center justify-between py-0.5 sm:py-0",children:[e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(B,{id:s.value,checked:S.includes(s.value),onCheckedChange:()=>ue(s.value),className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx(o,{htmlFor:s.value,className:"text-xs sm:text-sm cursor-pointer",children:s.label})]}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500",children:["(",a,")"]})]},s.value)})})]}),e.jsx(w,{}),e.jsxs("div",{children:[e.jsx(o,{className:"text-xs sm:text-sm font-medium",children:"Standort"}),e.jsx("div",{className:"space-y-1 sm:space-y-2 mt-1 sm:mt-2 max-h-32 sm:max-h-48 overflow-y-auto",children:ae.map(s=>{const a=F.filter(t=>{var l;return(l=t.servicesOffered)==null?void 0:l.includes(s.value)}).length;return e.jsxs("div",{className:"flex items-center justify-between py-0.5 sm:py-0",children:[e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(B,{id:s.value,checked:C.includes(s.value),onCheckedChange:()=>ge(s.value),className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx(o,{htmlFor:s.value,className:"text-xs sm:text-sm cursor-pointer",children:s.label})]}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500",children:["(",a,")"]})]},s.value)})})]}),e.jsx(w,{}),e.jsxs("div",{children:[e.jsx(o,{className:"text-xs sm:text-sm font-medium",children:"Unternehmenstypen"}),e.jsx("div",{className:"space-y-1 sm:space-y-2 mt-1 sm:mt-2",children:te.map(s=>{const a=F.filter(t=>{var l;return(l=t.supportedCompanyTypes)==null?void 0:l.includes(s.value)}).length;return e.jsxs("div",{className:"flex items-center justify-between py-0.5 sm:py-0",children:[e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(B,{id:s.value,checked:z.includes(s.value),onCheckedChange:()=>fe(s.value),className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx(o,{htmlFor:s.value,className:"text-xs sm:text-sm cursor-pointer",children:s.label})]}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500",children:["(",a,")"]})]},s.value)})})]}),e.jsx(d,{variant:"outline",className:"w-full",onClick:()=>{T(""),P([]),k([]),D([]),v([]),R("all"),H(!1)},children:"Filter zurücksetzen"})]})})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Anbieter-Übersicht"}),e.jsx("p",{className:"text-gray-600",children:"Alle Anbieter werden sorgfältig geprüft und verifiziert"})]}),c.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[c.length," Anbieter zum Vergleich ausgewählt"]}),e.jsx(d,{size:"sm",onClick:()=>se([]),children:"Alle entfernen"})]}),e.jsxs(d,{size:"sm",disabled:c.length<2,onClick:()=>{if(c.length===2){const[s,a]=c;h(`/anbieter-vergleich/${s}-vs-${a}`)}},children:["Vergleichen (",c.length,"/2)"]})]})}),e.jsx("div",{className:"space-y-4",children:G.map(s=>{var a,t,l;return e.jsx(Q,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>h(`/anbieter-profil/${s.id}`),children:e.jsx(W,{className:"p-3 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-2",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold",children:s.agencyName}),s.verificationStatus==="verified"&&e.jsxs(n,{variant:"secondary",className:"bg-green-100 text-green-800 w-fit text-xs sm:text-sm",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Verifiziert"]})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-2 sm:mb-0",children:[e.jsx(ie,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:s.averageRating||"0.00"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.totalReviews||0," Bewertungen)"]})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 line-clamp-2",children:s.description||"Starker Fokus auf Steueroptimierung für den Wegzug aus DACH. Hohe Social-Media-Präsenz."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"relative w-10 h-10 sm:w-12 sm:h-12",children:[e.jsxs("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 transform -rotate-90",viewBox:"0 0 40 40",children:[e.jsx("circle",{cx:"20",cy:"20",r:"16",stroke:"#e5e7eb",strokeWidth:"3",fill:"transparent"}),e.jsx("circle",{cx:"20",cy:"20",r:"16",stroke:(s.trustScore||0)>=80?"#10b981":(s.trustScore||0)>=60?"#f59e0b":"#ef4444",strokeWidth:"3",fill:"transparent",strokeDasharray:`${(s.trustScore||0)/100*100.48} 100.48`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-[10px] sm:text-xs font-bold",children:s.trustScore||0})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium",children:"Trust-Score"}),e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500",children:(s.trustScore||0)>=80?"Premium":(s.trustScore||0)>=60?"Gut":"Basis"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(a=s.servicesOffered)==null?void 0:a.slice(0,3).map(r=>{var V,N;return e.jsx(n,{variant:"outline",className:"text-[10px] sm:text-xs",children:((V=O.find(A=>A.value===r))==null?void 0:V.label)||((N=U.find(A=>A.value===r))==null?void 0:N.label)||r},r)}),(((t=s.servicesOffered)==null?void 0:t.length)||0)>3&&e.jsxs(n,{variant:"outline",className:"text-[10px] sm:text-xs",children:["+",(((l=s.servicesOffered)==null?void 0:l.length)||0)-3," weitere"]})]})]})]}),e.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 w-full sm:w-auto",onClick:r=>r.stopPropagation(),children:[e.jsx(d,{size:"sm",className:"bg-teal-500 hover:bg-teal-600 flex-1 sm:flex-none h-9 sm:h-auto text-xs sm:text-sm",onClick:r=>{r.stopPropagation(),h(`/anbieter-profil/${s.id}`)},children:"Profil ansehen"}),e.jsxs(d,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none h-9 sm:h-auto",onClick:r=>{r.stopPropagation(),pe(s.id)},disabled:c.length>=2&&!c.includes(s.id),children:[c.includes(s.id)?e.jsx(Le,{className:"w-3 h-3 sm:w-4 sm:h-4"}):e.jsx(Pe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline ml-1",children:c.includes(s.id)?"Entfernen":"Vergleichen"})]}),e.jsx(d,{variant:"outline",size:"sm",className:"h-9 sm:h-auto",onClick:r=>{r.stopPropagation(),ve(s.id)},children:e.jsx(ze,{className:`w-3 h-3 sm:w-4 sm:h-4 ${de.includes(s.id)?"fill-current text-red-500":""}`})})]})]})})},s.id)})}),G.length===0&&e.jsx(Q,{className:"text-center py-12",children:e.jsxs(W,{children:[e.jsx(K,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Keine Anbieter gefunden"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Versuche andere Suchbegriffe oder passe deine Filter an."}),e.jsx(d,{variant:"outline",onClick:()=>{T(""),k([]),v([]),R("all")},children:"Filter zurücksetzen"})]})})]})]})})})]})}export{qe as default};
