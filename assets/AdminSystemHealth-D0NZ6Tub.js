import{c as j,aa as R,r as H,j as e,B as z,g as t,N as r,O as n,P as i,V as I,f as L}from"./index-wr2dCn2t.js";import{b as q,A as B}from"./AdminNavbar-CFcbAGb8.js";import{P as o}from"./progress-VWsPe6Ar.js";import{R as G}from"./refresh-cw-DsenSa6C.js";import{D as O}from"./database-29c3i8KB.js";import{A as V}from"./activity-DnFhxjFV.js";import{T as E}from"./triangle-alert-DaKNZL7v.js";import{C as X}from"./circle-x-CeKVf9aR.js";import"./building-Dbe15So8.js";import"./sun-BB9LCqXH.js";import"./bell-Bt3n6wl1.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=j("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=j("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=j("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);function ie(){var g,p,N,u,f,h,v,k,w,b,A,M,S,C,T,U,D;const[,d]=R(),[c,y]=H.useState(!1),{health:s,loading:P}=q();H.useEffect(()=>{(async()=>{try{const x=await fetch("/api/auth/me");if(!x.ok){d("/login");return}(await x.json()).role!=="admin"&&d("/login")}catch{d("/login")}})()},[d]);const m=a=>{switch(a){case"healthy":return e.jsx(I,{className:"w-5 h-5 text-green-500"});case"warning":return e.jsx(E,{className:"w-5 h-5 text-yellow-500"});case"unhealthy":return e.jsx(X,{className:"w-5 h-5 text-red-500"});default:return e.jsx(E,{className:"w-5 h-5 text-gray-500"})}},l=a=>{const x=a==="healthy"?"default":a==="warning"?"secondary":"destructive";return e.jsx(L,{variant:x,children:a})};return P?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(B,{darkMode:c,onDarkModeToggle:()=>y(!c)}),e.jsx("div",{className:"pt-20 pb-8 px-4 max-w-7xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsx("div",{className:"h-32 bg-gray-200 rounded"},a))})]})})]}):e.jsxs("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${c?"dark":""}`,children:[e.jsx(B,{darkMode:c,onDarkModeToggle:()=>y(!c)}),e.jsxs("div",{className:"pt-20 pb-8 px-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"System Health"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Echtzeitüberwachung aller Systemkomponenten"})]}),e.jsxs(z,{onClick:()=>window.location.reload(),className:"gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Aktualisieren"]})]}),e.jsxs(t,{className:"mb-8",children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-3",children:[m((s==null?void 0:s.overall)||"unknown"),e.jsx("span",{children:"Gesamtsystem Status"}),l((s==null?void 0:s.overall)||"unknown")]})}),e.jsx(i,{children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Alle kritischen Systeme sind operativ und funktionsfähig."})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-5 h-5"}),"Datenbank",l(((g=s==null?void 0:s.database)==null?void 0:g.status)||"unknown")]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Response Time"}),e.jsxs("span",{className:"font-medium",children:[((p=s==null?void 0:s.database)==null?void 0:p.responseTime)||0,"ms"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connections"}),e.jsx("span",{className:"font-medium",children:((N=s==null?void 0:s.database)==null?void 0:N.connections)||0})]}),e.jsx(o,{value:(u=s==null?void 0:s.database)!=null&&u.responseTime?Math.max(0,100-s.database.responseTime/10):0,className:"w-full"})]})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5"}),"API Server",l("healthy")]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Uptime"}),e.jsxs("span",{className:"font-medium",children:[Math.round((((f=s==null?void 0:s.api)==null?void 0:f.uptime)||0)/3600),"h"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Memory Usage"}),e.jsxs("span",{className:"font-medium",children:[(h=s==null?void 0:s.api)!=null&&h.memoryUsage?Math.round(s.api.memoryUsage.heapUsed/1024/1024):0,"MB"]})]}),e.jsx(o,{value:85,className:"w-full"})]})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-5 h-5"}),"Storage",l(((v=s==null?void 0:s.storage)==null?void 0:v.status)||"unknown")]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Available"}),e.jsx("span",{className:"font-medium",children:((k=s==null?void 0:s.storage)==null?void 0:k.available)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Used"}),e.jsx("span",{className:"font-medium",children:((w=s==null?void 0:s.storage)==null?void 0:w.used)||"N/A"})]}),e.jsx(o,{value:25,className:"w-full"})]})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"w-5 h-5"}),"External Services",l("healthy")]})}),e.jsxs(i,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email Service"}),e.jsxs("div",{className:"flex items-center gap-2",children:[m(((b=s==null?void 0:s.external)==null?void 0:b.email)||"unknown"),e.jsx("span",{className:"text-sm",children:((A=s==null?void 0:s.external)==null?void 0:A.email)||"unknown"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"CMS"}),e.jsxs("div",{className:"flex items-center gap-2",children:[m(((M=s==null?void 0:s.external)==null?void 0:M.cms)||"unknown"),e.jsx("span",{className:"text-sm",children:((S=s==null?void 0:s.external)==null?void 0:S.cms)||"unknown"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analytics"}),e.jsxs("div",{className:"flex items-center gap-2",children:[m(((C=s==null?void 0:s.external)==null?void 0:C.analytics)||"unknown"),e.jsx("span",{className:"text-sm",children:((T=s==null?void 0:s.external)==null?void 0:T.analytics)||"unknown"})]})]})]})]})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-5 h-5"}),"Performance Metrics"]})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"99.9%"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Uptime (30 Tage)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((U=s==null?void 0:s.database)==null?void 0:U.responseTime)||0,"ms"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Response Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(D=s==null?void 0:s.api)!=null&&D.memoryUsage?Math.round(s.api.memoryUsage.heapUsed/1024/1024):0,"MB"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Memory Usage"})]})]})})]})]})]})}export{ie as default};
